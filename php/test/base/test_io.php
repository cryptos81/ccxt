<?php
namespace ccxt;

// ----------------------------------------------------------------------------

// PLEASE DO NOT EDIT THIS FILE, IT IS GENERATED AND WILL BE OVERWRITTEN:
// https://github.com/ccxt/ccxt/blob/master/CONTRIBUTING.md#how-to-contribute-code

// -----------------------------------------------------------------------------


function test_io() {
    $exchange = new \ccxt\async\Exchange(array(
        'id' => 'sampleex',
    ));
    $ms = $exchange->milliseconds();
    $file_name = 'ccxt-test-io-' . ((string) $ms) . '.ccxtfile';
    // upper tmp dir
    $temp_dir = $exchange->get_temp_dir();
    assert($temp_dir !== null && $temp_dir !== '', 'temp dir should not be empty');
    $file_path = $temp_dir . $file_name; // '../../../../../../../../../../../../tmp/' + fileName;
    $file_content = 'hello world';
    assert($exchange->write_file($file_path, $file_content), 'can not write file ' . $file_path);
    assert($exchange->exists_file($file_path), 'file does not exist: ' . $file_path);
    $read_content = $exchange->read_file($file_path);
    assert($read_content === $file_content, 'file content mismatch. Expected: ' . $file_content . ', got: ' . $read_content);
}
